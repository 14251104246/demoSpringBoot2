<!DOCTYPE html>
<html lang="cn">
<head>
    <meta charset="UTF-8">
    <title>demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap core CSS -->
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <!-- Loading Flat UI -->
    <link href="http://www.bootcss.com/p/flat-ui/css/flat-ui.css" rel="stylesheet">
    <link href="flatUI/css/flat-ui.css" rel="stylesheet">
    <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
    <script>
        function showAll(users) {
            var text = "";
            for (var index in users) {
                text = text + users[index].id + "--" + users[index].name + "\n";
            }
            alert(text);
            document.getElementById("uid").value = "";
            document.getElementById("uname").value = "";
        }

        $(document).ready(function () {
            $("#add").click(function () {
                var name = document.getElementById("uname").value;
                var s = document.getElementById("host").value;//获得填写请求的主机
                $.get("http://" + s + "/addUser/" + name, function (users, status) {
                    showAll(users);
                });

            });

            $("#del").click(function () {
                var id = document.getElementById("uid").value;
                var s = document.getElementById("host").value;
                $.get("http://" + s + "/delUser/" + id, function (users, status) {
                    showAll(users);
                });

            });

            $("#update").click(function () {
                var id = document.getElementById("uid").value;
                var name = document.getElementById("uname").value;
                var s = document.getElementById("host").value;
                $.get("http://" + s + "/updateUser/" + id + "/" + name, function (users, status) {
                    showAll(users);
                });

            });

            $("#search").click(function () {
                var id = document.getElementById("uid").value;
                var s = document.getElementById("host").value;
                $.get("http://" + s + "/searchUser/" + id, function (user, status) {
                    var text = "";
                    text = text + user.id + "--" + user.name + "\n";
                    alert(text);
                });

                document.getElementById("uid").value = "";
                document.getElementById("uname").value = "";

            });

            $("#allUser").click(function () {
                var s = document.getElementById("host").value;
                $.get(
                    "http://" + s + "/allUser/", function (users, status) {
                        showAll(users);
                    });

            });
        });
    </script>
</head>
<body>
<div class="container">

    <div class="row">
        <div class="span3">
            <div class="control-group success">
                <input id="host" style="width:100%" type="text" value="localhost:8080" class="span3">
            </div>
        </div>
        <div class="span3">
            <div class="control-group success">
                <input id="uid" style="width:100%" type="text" value="用户ID" class="span3">
            </div>
        </div>
        <div class="span3">
            <div class="control-group success">
                <input id="uname" style="width:100%" type="text" value="用户名" class="span3">
            </div>
        </div>
    </div>


    <div class="row demo-row">
        <div class="span3">
            <a id="add" href="#" class="btn btn-large btn-block">增加用户</a>
        </div>
        <div class="span3">
            <a id="del" href="#" class="btn btn-large btn-block btn-primary">删除用户</a>
        </div>
        <div class="span3">
            <a id="update" href="#" class="btn btn-large btn-block btn-info">修改用户</a>
        </div>
        <div class="span3">
            <a id="search" href="#" class="btn btn-large btn-block btn-danger">查找用户</a>
        </div>
        <div class="span3">
            <a id="allUser" href="#" class="btn btn-large btn-block btn-primary">所有用户</a>
        </div>
    </div> <!-- /row -->


</div>


<script src="http://cdn.bootcss.com/jquery/1.9.1/jquery.min.js"></script>
<script src="http://www.bootcss.com/p/flat-ui/js/jquery-ui-1.10.0.custom.min.js"></script>
<script src="http://www.bootcss.com/p/flat-ui/js/jquery.dropkick-1.0.0.js"></script>
<script src="http://www.bootcss.com/p/flat-ui/js/custom_checkbox_and_radio.js"></script>
<script src="http://www.bootcss.com/p/flat-ui/js/custom_radio.js"></script>
<script src="http://www.bootcss.com/p/flat-ui/js/bootstrap-tooltip.js"></script>
<script src="http://www.bootcss.com/p/flat-ui/js/jquery.tagsinput.js"></script>
<script src="http://cdn.bootcss.com/jquery-placeholder/2.0.7/jquery.placeholder.min.js"></script>
<script src="http://vjs.zencdn.net/c/video.js"></script>
<script src="http://www.bootcss.com/p/flat-ui/js/application.js"></script>
<script src="http://www.bootcss.com/p/projects.js"></script>
</body>
</html>